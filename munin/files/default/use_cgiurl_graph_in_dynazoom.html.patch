Index: master/static/dynazoom.html
===================================================================
--- master/static/dynazoom.html	(revision 4915)
+++ master/static/dynazoom.html	(working copy)
@@ -62,6 +62,7 @@
 		</td>
 	</tr>
 </table>
+	<input type=hidden name="cgiurl_graph" />
 	<input type=submit />
 	<input type=button name="btnZoomOut" value="Zoom Out x2" />
 </form>
@@ -78,6 +79,7 @@
 var divOverlay = document.getElementById("overlayDiv");
 
 
+form.cgiurl_graph.value = qs.get("cgiurl_graph", "/cgi-bin/munin-cgi-graph");
 form.plugin_name.value = qs.get("plugin_name", "localdomain/localhost.localdomain/if_eth0");
 form.start_epoch.value = qs.get("start_epoch", "1236561663");
 form.stop_epoch.value = qs.get("stop_epoch", "1237561663");
@@ -93,7 +95,7 @@
 var scale = refreshImg();
 
 function refreshImg() {
-	image.src = "/cgi-bin/munin-cgi-graph/"
+	image.src = form.cgiurl_graph.value + "/"
 		+ form.plugin_name.value 
 		+ "-pinpoint=" + parseInt(form.start_epoch.value) + "," + parseInt(form.stop_epoch.value)
 		+ ".png"
Index: master/lib/Munin/Master/HTMLConfig.pm
===================================================================
--- master/lib/Munin/Master/HTMLConfig.pm	(revision 4915)
+++ master/lib/Munin/Master/HTMLConfig.pm	(working copy)
@@ -477,7 +477,7 @@
 	my $start_year = $epoch_now - (3600 * 24 * 400);
 	my $size_x = 800;
 	my $size_y = 400;
-	my $common_url = "$root_path/static/dynazoom.html?plugin_name=$path&size_x=$size_x&size_y=$size_y";
+	my $common_url = "$root_path/static/dynazoom.html?cgiurl_graph=$config->{'cgiurl_graph'}&plugin_name=$path&size_x=$size_x&size_y=$size_y";
 	$srv{zoomday} = "$common_url&start_epoch=$start_day&stop_epoch=$epoch_now";
 	$srv{zoomweek} = "$common_url&start_epoch=$start_week&stop_epoch=$epoch_now";
 	$srv{zoommonth} = "$common_url&start_epoch=$start_month&stop_epoch=$epoch_now";
